<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ecards3 | Tu Identidad Digital de Élite</title>
    <meta name="description"
        content="Crea, gestiona y comparte tarjetas digitales de negocio premium. Diseños exclusivos, personalización total y QR instantáneo.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <!-- Platform Loader -->
    <div id="loader" class="loading-box hidden">
        <div class="premium-loader"></div>
    </div>

    <!-- ── HEADER ─────────────────────────────────────────────── -->
    <header id="main-header">
        <a class="logo" onclick="Router.go('/')">
            <span>Ecards</span><span class="logo-accent">3</span>
        </a>

        <nav id="top-nav">
            <a href="#" class="nav-link" onclick="Router.go('/')">Inicio</a>

            <!-- Guest Nav -->
            <div id="auth-nav-guest" style="display:flex; gap:0.75rem; align-items:center;">
                <button class="btn btn-ghost" onclick="UI.showAuth('login')">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
                <button class="btn btn-primary" onclick="UI.showAuth('register')">
                    Crear Cuenta
                </button>
            </div>

            <!-- User Nav -->
            <div id="auth-nav-user" class="hidden">
                <a href="#" class="nav-link" onclick="Router.go('/dashboard')">Mis Tarjetas</a>
                <div class="user-badge">
                    <div class="user-avatar" id="nav-avatar">U</div>
                    <span id="nav-username">USUARIO</span>
                </div>
                <button class="btn btn-ghost" onclick="Auth.logout()">
                    <i class="fas fa-sign-out-alt"></i> Salir
                </button>
            </div>
        </nav>
    </header>

    <!-- ── APP ROOT ───────────────────────────────────────────── -->
    <main id="app-root">

        <!-- ─── LANDING PAGE ─────────────────────────────────── -->
        <section id="view-home" class="view-content animate-in">

            <!-- Hero -->
            <div class="hero-section">
                <div class="hero-eyebrow">
                    <span class="hero-eyebrow-dot"></span>
                    Plataforma de Identidad Digital Premium
                </div>
                <h1 class="hero-title">
                    Crea Tu Tarjeta Digital<br>
                    <span class="gradient-text">de Élite</span>
                </h1>
                <p class="hero-subtitle">
                    La identidad digital que te diferencia del resto. Diseños profesionales,
                    personalización total y networking sin fronteras.
                </p>
                <div class="hero-cta">
                    <button class="btn btn-primary btn-lg" onclick="Router.go('/admin')">
                        <i class="fas fa-magic"></i> Probar Gratis
                    </button>
                    <button class="btn btn-outline btn-lg" onclick="UI.showAuth('register')">
                        <i class="fas fa-rocket"></i> Crear Cuenta
                    </button>
                </div>
            </div>

            <!-- Features -->
            <div class="features-section">
                <p class="section-label">CARACTERÍSTICAS</p>
                <h2 class="section-title">Todo lo que necesitas</h2>
                <p class="section-subtitle">Herramientas de élite para tu identidad digital</p>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-palette"></i>
                        </div>
                        <h3>Plantillas Premium</h3>
                        <p>Accede a diseños exclusivos: Corporate Blue, Minimal White y Creative Dark. Personaliza
                            colores, fuentes y estilos a tu medida.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-qrcode"></i>
                        </div>
                        <h3>Comparte con QR</h3>
                        <p>Tu perfil disponible instantáneamente con un escaneo. Sin apps extra — funciona en cualquier
                            cámara moderna.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-sliders-h"></i>
                        </div>
                        <h3>Personalización Total</h3>
                        <p>Control absoluto: sube tu logo, foto, fuente personalizada y CSS custom. Tu tarjeta, tus
                            reglas, tu estilo único.</p>
                    </div>
                </div>
            </div>

            <!-- Showcase -->
            <div class="showcase-section">
                <p class="section-label">SHOWCASE</p>
                <h2 class="section-title">Elige tu estilo</h2>
                <p class="section-subtitle">Diseños que representan tu esencia profesional</p>
                <div class="showcase-grid">
                    <div class="showcase-item" onclick="UI.showAuth('register')">
                        <div class="showcase-card-wrap">
                            <div class="mini-card corporate" style="height:100%;">
                                <div
                                    style="position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:0.5rem;">
                                    <div class="deco-circle c1" style="width:120px;height:120px;top:-30px;right:-20px;">
                                    </div>
                                    <div class="deco-circle c2" style="width:80px;height:80px;bottom:10px;left:-20px;">
                                    </div>
                                    <div class="mini-card-avatar corporate-av"><i class="fas fa-user-tie"></i></div>
                                    <div style="text-align:center;">
                                        <div class="mini-card-name">Carlos Méndez</div>
                                        <div class="mini-card-title">CEO & Fundador</div>
                                        <div
                                            style="margin-top:0.5rem; display:flex; gap:0.3rem; justify-content:center;">
                                            <span
                                                style="width:20px;height:20px;border-radius:4px;background:rgba(124,58,237,0.4);display:flex;align-items:center;justify-content:center;font-size:0.55rem;"><i
                                                    class="fab fa-linkedin-in"></i></span>
                                            <span
                                                style="width:20px;height:20px;border-radius:4px;background:rgba(124,58,237,0.4);display:flex;align-items:center;justify-content:center;font-size:0.55rem;"><i
                                                    class="fab fa-whatsapp"></i></span>
                                            <span
                                                style="width:20px;height:20px;border-radius:4px;background:rgba(124,58,237,0.4);display:flex;align-items:center;justify-content:center;font-size:0.55rem;"><i
                                                    class="fas fa-envelope"></i></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="bottom-wave"></div>
                            </div>
                        </div>
                        <p class="showcase-label">CORPORATE BLUE</p>
                    </div>

                    <div class="showcase-item" onclick="UI.showAuth('register')">
                        <div class="showcase-card-wrap">
                            <div class="mini-card minimal" style="height:100%;">
                                <div
                                    style="position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:0.5rem;">
                                    <div class="mini-card-avatar minimal-av"><i class="fas fa-pencil-ruler"></i></div>
                                    <div style="text-align:center;">
                                        <div class="mini-card-name" style="color:#0F172A;">Ana García</div>
                                        <div class="mini-card-title" style="color:#64748B;">Diseñadora UX</div>
                                        <div
                                            style="margin-top:0.5rem; display:flex; gap:0.3rem; justify-content:center;">
                                            <span
                                                style="width:20px;height:20px;border-radius:4px;background:rgba(59,130,246,0.15);display:flex;align-items:center;justify-content:center;font-size:0.55rem;color:#3B82F6;"><i
                                                    class="fab fa-dribbble"></i></span>
                                            <span
                                                style="width:20px;height:20px;border-radius:4px;background:rgba(59,130,246,0.15);display:flex;align-items:center;justify-content:center;font-size:0.55rem;color:#3B82F6;"><i
                                                    class="fab fa-instagram"></i></span>
                                            <span
                                                style="width:20px;height:20px;border-radius:4px;background:rgba(59,130,246,0.15);display:flex;align-items:center;justify-content:center;font-size:0.55rem;color:#3B82F6;"><i
                                                    class="fas fa-globe"></i></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <p class="showcase-label">MINIMAL WHITE</p>
                    </div>

                    <div class="showcase-item" onclick="UI.showAuth('register')">
                        <div class="showcase-card-wrap">
                            <div class="mini-card creative" style="height:100%;">
                                <div
                                    style="position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:0.5rem;">
                                    <div class="deco-circle c3"
                                        style="width:80px;height:80px;top:-20px;left:-20px;background:rgba(6,182,212,0.2);">
                                    </div>
                                    <div class="mini-card-avatar creative-av"><i class="fas fa-code"></i></div>
                                    <div style="text-align:center;">
                                        <div class="mini-card-name">Luis Torres</div>
                                        <div class="mini-card-title">Developer Full Stack</div>
                                        <div
                                            style="margin-top:0.5rem; display:flex; gap:0.3rem; justify-content:center;">
                                            <span
                                                style="width:20px;height:20px;border-radius:4px;background:rgba(6,182,212,0.2);display:flex;align-items:center;justify-content:center;font-size:0.55rem;color:#06B6D4;"><i
                                                    class="fab fa-github"></i></span>
                                            <span
                                                style="width:20px;height:20px;border-radius:4px;background:rgba(6,182,212,0.2);display:flex;align-items:center;justify-content:center;font-size:0.55rem;color:#06B6D4;"><i
                                                    class="fab fa-twitter"></i></span>
                                            <span
                                                style="width:20px;height:20px;border-radius:4px;background:rgba(6,182,212,0.2);display:flex;align-items:center;justify-content:center;font-size:0.55rem;color:#06B6D4;"><i
                                                    class="fas fa-terminal"></i></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="bottom-wave"
                                    style="background:linear-gradient(90deg,#06B6D4,#7C3AED,#06B6D4);"></div>
                            </div>
                        </div>
                        <p class="showcase-label">CREATIVE DARK</p>
                    </div>
                </div>
            </div>

            <footer class="landing-footer">
                <p>© 2026 <span>Ecards3</span> · Tu Identidad Digital de Élite</p>
            </footer>
        </section>

        <!-- ─── DASHBOARD ─────────────────────────────────────── -->
        <section id="view-dashboard" class="view-content hidden animate-in">
            <div id="view-dashboard-inner">
                <div class="dashboard-header">
                    <div>
                        <h2>Centro de Comando</h2>
                        <p>Gestiona tus identidades digitales</p>
                    </div>
                    <button class="btn btn-primary" onclick="UI.clearStudio(); Router.go('/admin')">
                        <i class="fas fa-plus"></i> Nueva Tarjeta
                    </button>
                </div>
                <div id="dashboard-grid">
                    <!-- Injected via script.js -->
                </div>
            </div>
        </section>

        <!-- ─── CARD EDITOR ───────────────────────────────────── -->
        <section id="view-admin" class="view-content hidden">
            <div id="view-admin-inner">
                <div class="studio-header">
                    <button class="breadcrumb" onclick="Router.go('/dashboard')">
                        <i class="fas fa-arrow-left"></i> Mis Tarjetas
                    </button>
                    <span style="color:var(--text-muted)">/</span>
                    <span style="font-size:0.8rem; font-weight:600;">Editor de Tarjeta</span>
                </div>

                <div class="studio-layout">
                    <!-- LEFT: Editor -->
                    <div class="studio-panel">
                        <form id="cardForm">
                            <!-- Tabs -->
                            <nav class="studio-tabs">
                                <button type="button" class="tab-btn active"
                                    onclick="UI.showTab(event,'tab-info')">DATOS</button>
                                <button type="button" class="tab-btn"
                                    onclick="UI.showTab(event,'tab-contact')">CONECTOR</button>
                                <button type="button" class="tab-btn"
                                    onclick="UI.showTab(event,'tab-design')">ESTILO</button>
                            </nav>

                            <!-- DATOS TAB -->
                            <div id="tab-info" class="tab-content active">
                                <div class="input-group"><label>Nombre Completo</label><input type="text" name="name"
                                        required placeholder="Ej: Carlos Méndez"></div>
                                <div class="input-group"><label>Cargo / Título</label><input type="text" name="title"
                                        placeholder="Ej: CEO & Fundador"></div>
                                <div class="input-group"><label>Compañía / Marca</label><input type="text"
                                        name="company" placeholder="Ej: Nexus Corp"></div>
                                <div class="input-group"><label>Descripción de la Empresa</label>
                                    <textarea name="description" rows="3"
                                        placeholder="Describe brevemente tus servicios o lo que te hace único..."></textarea>
                                </div>
                                <div class="input-group"><label>Dirección Física / Oficina</label><input type="text"
                                        name="address" placeholder="Ej: Calle 123, Ciudad"></div>
                            </div>

                            <!-- CONECTOR TAB -->
                            <div id="tab-contact" class="tab-content">
                                <div class="input-row-2">
                                    <div class="input-group"><label>Email</label><input type="email" name="email"
                                            placeholder="tu@empresa.com"></div>
                                    <div class="input-group"><label>Teléfono</label><input type="tel" name="phone"
                                            placeholder="+1 234 567 890"></div>
                                </div>
                                <div class="input-group"><label>Website</label><input type="url" name="website"
                                        placeholder="https://tuempresa.com"></div>

                                <span class="form-divider">REDES SOCIALES</span>

                                <div class="input-row-2">
                                    <div class="input-group"><label><i class="fab fa-linkedin"
                                                style="color:#0A66C2;margin-right:0.3rem;"></i>LinkedIn</label><input
                                            type="text" name="linkedin" placeholder="usuario"></div>
                                    <div class="input-group"><label><i class="fab fa-whatsapp"
                                                style="color:#25D366;margin-right:0.3rem;"></i>WhatsApp</label><input
                                            type="text" name="whatsapp" placeholder="número"></div>
                                </div>
                                <div class="input-row-2">
                                    <div class="input-group"><label><i class="fab fa-instagram"
                                                style="color:#E1306C;margin-right:0.3rem;"></i>Instagram</label><input
                                            type="text" name="instagram" placeholder="usuario"></div>
                                    <div class="input-group"><label><i class="fab fa-facebook"
                                                style="color:#1877F2;margin-right:0.3rem;"></i>Facebook</label><input
                                            type="text" name="facebook" placeholder="usuario"></div>
                                </div>
                                <div class="input-row-2">
                                    <div class="input-group"><label><i class="fab fa-tiktok"
                                                style="color:#FFF;margin-right:0.3rem;"></i>TikTok</label><input
                                            type="text" name="tiktok" placeholder="usuario"></div>
                                    <div class="input-group"><label><i class="fab fa-youtube"
                                                style="color:#FF0000;margin-right:0.3rem;"></i>YouTube</label><input
                                            type="text" name="youtube" placeholder="canal"></div>
                                </div>
                                <div class="input-row-2">
                                    <div class="input-group"><label><i class="fab fa-twitter"
                                                style="color:#1DA1F2;margin-right:0.3rem;"></i>Twitter&nbsp;(X)</label><input
                                            type="text" name="twitter" placeholder="usuario"></div>
                                    <div class="input-group"><label><i class="fab fa-github"
                                                style="margin-right:0.3rem;"></i>GitHub</label><input type="text"
                                            name="github" placeholder="usuario"></div>
                                </div>
                            </div>

                            <!-- ESTILO TAB -->
                            <div id="tab-design" class="tab-content">
                                <div class="input-group">
                                    <label>Plantilla de Sistema</label>
                                    <select name="template_id" id="template_id">
                                        <option value="corporate">Corporate Blue (Elegante)</option>
                                        <option value="minimal">Minimal White (Limpio)</option>
                                        <option value="creative">Creative Dark (Moderno)</option>
                                    </select>
                                </div>

                                <div class="input-group">
                                    <label>Imagen de Fondo Personalizada</label>
                                    <input type="file" id="bg_image" name="bg_image" accept="image/*">
                                </div>

                                <div class="input-group">
                                    <label>Tipografía</label>
                                    <select name="font_family">
                                        <option value="'Plus Jakarta Sans', sans-serif">Jakarta Sans (Default)</option>
                                        <option value="'Inter', sans-serif">Inter (Modern)</option>
                                        <option value="'Playfair Display', serif">Playfair (Premium)</option>
                                        <option value="'Roboto Mono', monospace">Roboto Mono (Tech)</option>
                                    </select>
                                </div>

                                <div class="input-group">
                                    <label>Importar Google Font (URL)</label>
                                    <input type="text" name="custom_fonts"
                                        placeholder="https://fonts.googleapis.com/css2?family=...">
                                </div>

                                <div class="input-group">
                                    <label>Archivo de Fuente (OTF, TTF, WOFF)</label>
                                    <input type="file" id="font_file" name="font_file" accept=".otf,.ttf,.woff,.woff2">
                                </div>

                                <div class="input-group">
                                    <label>CSS Personalizado</label>
                                    <textarea name="custom_css" rows="3"
                                        placeholder=".card-preview { border: 2px solid gold; }"></textarea>
                                </div>

                                <div class="input-row-2">
                                    <div class="input-group"><label>Logo Empresa</label><input type="file" id="logo"
                                            name="logo" accept="image/*"></div>
                                    <div class="input-group"><label>Foto de Perfil</label><input type="file"
                                            id="profile" name="profile" accept="image/*"></div>
                                </div>

                                <div class="input-row-3">
                                    <div class="input-group"><label>Color Marca</label><input type="color"
                                            name="primary_color" id="primary_color" value="#7C3AED"></div>
                                    <div class="input-group"><label>Fondo</label><input type="color" name="bg_color"
                                            value="#0B0F19"></div>
                                    <div class="input-group"><label>Texto</label><input type="color" name="text_color"
                                            value="#FFFFFF"></div>
                                </div>
                            </div>

                            <!-- Action Buttons -->
                            <div style="display:grid; grid-template-columns:2fr 1fr; gap:0.75rem; margin-top:1.25rem;">
                                <button type="submit" class="btn btn-primary btn-full"
                                    style="border-radius:8px; padding:1rem;">
                                    <i class="fas fa-rocket"></i> Guardar y Desplegar
                                </button>
                                <button type="button" id="btn-delete-card" class="btn btn-danger btn-full hidden"
                                    style="border-radius:8px; padding:1rem;" onclick="UI.deleteCurrentCard()">
                                    <i class="fas fa-trash"></i> Eliminar
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- RIGHT: Live Preview -->
                    <div class="preview-panel">
                        <div class="preview-label">
                            <span></span>LIVE ENGINE
                        </div>

                        <!-- Success Banner -->
                        <div id="save-success" class="hidden animate-in">
                            <i class="fas fa-check-circle"></i> ¡IDENTIDAD ACTUALIZADA EXITOSAMENTE!
                        </div>

                        <!-- Card Preview -->
                        <div id="card-preview" class="card-preview template-corporate animate-in">
                            <div class="deco-circle c1"></div>
                            <div class="deco-circle c2"></div>
                            <div class="deco-circle c3"></div>
                            <div class="deco-circle c4"></div>

                            <div class="card-content">
                                <!-- Top bar -->
                                <div class="card-top-bar">
                                    <div class="company-brand-box">
                                        <div class="company-logo-ring">
                                            <img id="preview-logo-brand" src="" alt="Logo">
                                            <i id="preview-logo-icon" class="fas fa-building"
                                                style="color:var(--accent-light); font-size:0.9rem;"></i>
                                        </div>
                                        <div class="brand-text" id="preview-brand-text">EMPRESA<br>DIGITAL</div>
                                    </div>
                                </div>

                                <!-- Profile Photo -->
                                <div class="profile-container">
                                    <div id="preview-logo-box">
                                        <i class="fas fa-user"
                                            style="opacity:0.15; font-size:2rem; color:var(--accent-light);"></i>
                                    </div>
                                </div>

                                <div class="card-text-block">
                                    <p id="preview-company">EMPRESA EJEMPLO</p>
                                    <h2 id="preview-name">NOMBRE COMPLETO</h2>
                                    <p id="preview-title">CARGO O TÍTULO</p>
                                    <p id="preview-description" class="card-desc">Esta es tu descripción. Resalta tus
                                        valores y servicios.</p>

                                    <div id="preview-contacts" class="contact-container"></div>
                                    <div id="preview-social" class="social-strip"></div>
                                </div>
                            </div>

                            <div class="bottom-wave"></div>
                        </div>

                        <!-- QR Box -->
                        <div id="preview-qr">
                            <i class="fas fa-qrcode"></i>
                            <span>GUARDAR PARA QR</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- ── AUTH MODAL ─────────────────────────────────────────── -->
    <div id="auth-modal" class="auth-overlay hidden">
        <div class="auth-box">
            <div class="auth-logo">
                <span class="logo-text">Ecards<span style="color:var(--accent-light);">3</span></span>
            </div>

            <!-- Login Form -->
            <div id="auth-login">
                <h3>Bienvenido de vuelta</h3>
                <p class="auth-subtitle">Accede a tu identidad digital</p>
                <form id="loginForm" onsubmit="Auth.handleLogin(event)">
                    <div class="input-group"><label>Usuario</label><input type="text" id="login-user" required
                            placeholder="Tu nombre de usuario"></div>
                    <div class="input-group"><label>Contraseña</label><input type="password" id="login-pass" required
                            placeholder="••••••••"></div>
                    <button type="submit" class="btn btn-primary btn-full"
                        style="border-radius:8px; padding:0.9rem; margin-top:0.5rem;">
                        <i class="fas fa-sign-in-alt"></i> Entrar
                    </button>
                </form>
                <p class="auth-switch">¿Sin cuenta? <a onclick="UI.showAuth('register')">Crear una ahora</a></p>
            </div>

            <!-- Register Form -->
            <div id="auth-register" class="hidden">
                <h3>Crear Identidad</h3>
                <p class="auth-subtitle">Únete a la plataforma de élite</p>
                <form id="registerForm" onsubmit="Auth.handleRegister(event)">
                    <div class="input-group"><label>Nombre de Usuario</label><input type="text" id="reg-user" required
                            placeholder="Ej: carlos_mendez"></div>
                    <div class="input-group"><label>Contraseña</label><input type="password" id="reg-pass" required
                            placeholder="Mínimo 6 caracteres"></div>
                    <button type="submit" class="btn btn-primary btn-full"
                        style="border-radius:8px; padding:0.9rem; margin-top:0.5rem;">
                        <i class="fas fa-user-plus"></i> Crear Cuenta
                    </button>
                </form>
                <p class="auth-switch">¿Ya tienes cuenta? <a onclick="UI.showAuth('login')">Iniciar sesión</a></p>
            </div>

            <button class="auth-close" onclick="UI.hideAuth()">&times;</button>
        </div>
    </div>

    <!-- Public Card View (standalone) -->
    <div id="public-view" class="hidden"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="script.js"></script>
</body>

</html>